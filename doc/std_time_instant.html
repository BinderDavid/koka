
<!DOCTYPE html>
<html>
<!-- NO_CLICK_TRACKING -->

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />

<style type="text/css">.koka .plaincode, .koka a.pp .pc { display: none; } .koka a.pp { color: inherit; text-decoration: none; }</style>
<link rel="stylesheet" type="text/css" href="styles/madoko.css" />
<link rel="stylesheet" type="text/css" href="styles/koka.css" />

<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Noto+Serif:400,400italic,700,700italic" />
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700,400italic" />

<title>std/time/instant documentation</title>
</head>

<body class="koka doc body"><div class="madoko">
<h1><a class="link" href="https://koka-lang.github.io/koka/doc/std_time_instant-source.html"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant</span></a><a class="link" href="toc.html"><span class="toc-link">&#x25b2;toc</span></a></h1>
<div class="toc code"><ul class="toc"><li><a class="link" href="#type_space_instant"><span class="kw">type</span>&nbsp;<span class="tp">instant</span></a>
</li><li class="nested"><a class="link" href="#_excl__eq_"><span class="kw">fun</span>&nbsp;(!=)</a></li><li class="nested"><a class="link" href="#_plus_"><span class="kw">fun</span>&nbsp;(+)</a></li><li class="nested"><a class="link" href="#_dash_"><span class="kw">fun</span>&nbsp;(<span class="dash">-</span>)</a></li><li class="nested"><a class="link" href="#_dash__1"><span class="kw">fun</span>&nbsp;(<span class="dash">-</span>)</a></li><li class="nested"><a class="link" href="#_lt_"><span class="kw">fun</span>&nbsp;(&lt;)</a></li><li class="nested"><a class="link" href="#_lt__eq_"><span class="kw">fun</span>&nbsp;(&lt;=)</a></li><li class="nested"><a class="link" href="#_eq__eq_"><span class="kw">fun</span>&nbsp;(==)</a></li><li class="nested"><a class="link" href="#_gt_"><span class="kw">fun</span>&nbsp;(&gt;)</a></li><li class="nested"><a class="link" href="#_gt__eq_"><span class="kw">fun</span>&nbsp;(&gt;=)</a></li><li class="nested"><a class="link" href="#compare"><span class="kw">fun</span>&nbsp;compare</a></li><li class="nested"><a class="link" href="#epoch"><span class="kw">val</span>&nbsp;epoch</a></li><li class="nested"><a class="link" href="#instant_at_jd"><span class="kw">fun</span>&nbsp;instant<span class="dash">-</span>at<span class="dash">-</span>jd</a></li><li class="nested"><a class="link" href="#instant_at_jd_1"><span class="kw">fun</span>&nbsp;instant<span class="dash">-</span>at<span class="dash">-</span>jd</a></li><li class="nested"><a class="link" href="#instant_at_mjd"><span class="kw">fun</span>&nbsp;instant<span class="dash">-</span>at<span class="dash">-</span>mjd</a></li><li class="nested"><a class="link" href="#instant_at_mjd_1"><span class="kw">fun</span>&nbsp;instant<span class="dash">-</span>at<span class="dash">-</span>mjd</a></li><li class="nested"><a class="link" href="#instant_since_epoch"><span class="kw">fun</span>&nbsp;instant<span class="dash">-</span>since<span class="dash">-</span>epoch</a></li><li class="nested"><a class="link" href="#jd"><span class="kw">fun</span>&nbsp;jd</a></li><li class="nested"><a class="link" href="#max"><span class="kw">fun</span>&nbsp;max</a></li><li class="nested"><a class="link" href="#min"><span class="kw">fun</span>&nbsp;min</a></li></ul><ul class="toc"><li class="nested"><a class="link" href="#mjd"><span class="kw">fun</span>&nbsp;mjd</a></li><li class="nested"><a class="link" href="#round_to_prec"><span class="kw">fun</span>&nbsp;round<span class="dash">-</span>to<span class="dash">-</span>prec</a></li><li class="nested"><a class="link" href="#show"><span class="kw">fun</span>&nbsp;show</a></li><li class="nested"><a class="link" href="#show_raw"><span class="kw">fun</span>&nbsp;show<span class="dash">-</span>raw</a></li><li class="nested"><a class="link" href="#since_epoch"><span class="kw">fun</span>&nbsp;since<span class="dash">-</span>epoch</a></li><li class="nested"><a class="link" href="#timespan"><span class="kw">fun</span>&nbsp;timespan</a></li><li class="nested"><a class="link" href="#timestamp"><span class="kw">fun</span>&nbsp;timestamp</a></li><li class="nested"><a class="link" href="#unsafe_instant"><span class="kw">fun</span>&nbsp;unsafe<span class="dash">-</span>instant</a></li><li class="nested"><a class="link" href="#use"><span class="kw">fun</span>&nbsp;use</a></li><li><a class="link" href="#type_space_timescale"><span class="kw">type</span>&nbsp;<span class="tp">timescale</span></a>
</li><li class="nested"><a class="link" href="#from_tai_1"><span class="kw">fun</span>&nbsp;from<span class="dash">-</span>tai</a></li><li class="nested"><a class="link" href="#has_leap_seconds"><span class="kw">fun</span>&nbsp;has<span class="dash">-</span>leap<span class="dash">-</span>seconds</a></li><li class="nested"><a class="link" href="#name"><span class="kw">fun</span>&nbsp;name</a></li><li class="nested"><a class="link" href="#tai_timescale"><span class="kw">fun</span>&nbsp;tai<span class="dash">-</span>timescale</a></li><li class="nested"><a class="link" href="#timescale"><span class="kw">fun</span>&nbsp;timescale</a></li><li class="nested"><a class="link" href="#timescale_epoch"><span class="kw">fun</span>&nbsp;timescale<span class="dash">-</span>epoch</a></li><li class="nested"><a class="link" href="#timescale_y2k"><span class="kw">fun</span>&nbsp;timescale<span class="dash">-</span>y2k</a></li><li class="nested"><a class="link" href="#timescale_1"><span class="kw">fun</span>&nbsp;timescale</a></li><li class="nested"><a class="link" href="#to_tai_1"><span class="kw">fun</span>&nbsp;to<span class="dash">-</span>tai</a></li><li class="nested"><a class="link" href="#ts_gps"><span class="kw">val</span>&nbsp;ts<span class="dash">-</span>gps</a></li></ul><ul class="toc"><li class="nested"><a class="link" href="#ts_tai"><span class="kw">val</span>&nbsp;ts<span class="dash">-</span>tai</a></li><li>&nbsp;</li><li><a class="link" href="#show_1"><span class="kw">fun</span>&nbsp;show</a></li></ul></div>
<div class="doc koka comment">

<p class="p noindent">   Instants in time.
</p>
<p class="p indent">   Instants can be arbitrary far into the past
   and future and are precise up to 10<sup>-15</sup>s (a femto-second). 
   Internally, instants are represented in a certain time scale (<code class="koka"><a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a></code>) for
   efficiency and precision. They automatically convert between different time scales 
   when necessary (for example when comparing instants in time, or calculating durations
   between UTC calendar times).
</p>
<p class="p indent">   Time durations (<code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a></code>) are always in SI seconds (as measured on the Earth&#39;s geoid).
</p></div>
<div class="decl" id="type_space_instant"><div class="header code"><span class="def"><span class="kw">type</span>&nbsp;<span class="tp"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant-source.html#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></span></span><span class="tp"></span></div><div class="doc koka comment">

<p class="p noindent">   Represents an instant in time. Instants can be arbitrary far into the past
   and future and are precise up to 10<sup>-15</sup>s (a femto-second). 
   Internally, instants are represented in a certain time scale (<code class="koka"><a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a></code>) for
   efficiency and precision. They automatically convert between different time scales 
   when necessary (for example when comparing instants in time, or calculating durations
   between UTC calendar times).
</p></div><div class="nested"><div class="decl" id="_excl__eq_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_excl__eq_">(!=)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a></div></div><div class="decl" id="_plus_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_plus_">(+)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">d</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Add a duration to an instant in time.
</p></div></div><div class="decl" id="_dash_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_dash_">(<span class="dash">-</span>)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">d</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Subtract a duration from an instant in time.
</p></div></div><div class="decl" id="_dash__1"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_dash__1">(<span class="dash">-</span>)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the duration between to instants in time.
</p></div></div><div class="decl" id="_lt_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_lt_">(&lt;)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a></div></div><div class="decl" id="_lt__eq_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_lt__eq_">(&lt;=)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a></div></div><div class="decl" id="_eq__eq_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_eq__eq_">(==)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a></div></div><div class="decl" id="_gt_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_gt_">(&gt;)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a></div></div><div class="decl" id="_gt__eq_"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#_gt__eq_">(&gt;=)</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a></div></div><div class="decl" id="compare"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#compare">compare</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_order"><span class="tp">order</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>order: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Compare two <code class="koka"><a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></code>s in time.
</p></div></div><div class="decl" id="epoch"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_instant-source.html#epoch">epoch</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Our epoch is set at 2000-01-01 TAI (which is equal to 1999-12-31T23:59:28Z UTC).
<br>
   Another candidate epoch could have been the standard&nbsp;<a href="https://en.wikipedia.org/wiki/Equinox_(celestial_coordinates)#J2000.0." data-linkid="j2000">J2000</a> epoch (<a href="std_time_astro.html#epoch_j2000"><code class="koka">epoch<span class="dash">-</span>j2000</code></a>), 
   which equals 2000-01-01T12:00:00 TT (terrestrial time).
   However, that would mean that for the most common time scales, namely UTC and TAI, there would always be a 
   fractional offset (of 32.184s) for common time stamps. Moreover, by having an epoch at noon there would be
   an extra correction needed for calendar date calculations too. 
<br>
   Similarly, the standard Unix epoch of 1970-01-01Z UTC is not ideal either since the UTC offset with TAI
   was fractional at that time (namely 8.000082s).
<br>
   Given these issues, we fixed the epoch at 2000-01-01T00:00:00 TAI instead.
  
</p></div></div><div class="decl" id="instant_at_jd"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#instant_at_jd">instant<span class="dash">-</span>at<span class="dash">-</span>jd</a></span>( <span class="tp tpp">jd</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_double"><span class="tp">double</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>double: <span class="tp">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create an instant given a&nbsp;<a href="https://en.wikipedia.org/wiki/Julian_day">julian day</a>.
</p></div></div><div class="decl" id="instant_at_jd_1"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#instant_at_jd_1">instant<span class="dash">-</span>at<span class="dash">-</span>jd</a></span>( <span class="tp tpp">jd</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_fixed.html#type_space_fixed"><span class="tp">fixed</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>fixed<span class="fslash last">/</span></span>fixed: <span class="tp">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create an instant given a&nbsp;<a href="https://en.wikipedia.org/wiki/Julian_day">julian day</a>
   and time scale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code> (=<code class="koka">ts<span class="dash">-</span>utc</code>).
</p></div></div><div class="decl" id="instant_at_mjd"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#instant_at_mjd">instant<span class="dash">-</span>at<span class="dash">-</span>mjd</a></span>( <span class="tp tpp">mjd</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_double"><span class="tp">double</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>double: <span class="tp">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create an instant given a&nbsp;<a href="https://en.wikipedia.org/wiki/Julian_day">modified julian day</a>.
   and time scale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code> (=<code class="koka">ts<span class="dash">-</span>utc</code>).<br>
   <code class="koka">modified<span class="dash">-</span>julian<span class="dash">-</span>day <span class="kw">=</span> julian<span class="dash">-</span>day <span class="op"><span class="minus">-</span></span> <span class="number">2400000.5</span></code>.
</p></div></div><div class="decl" id="instant_at_mjd_1"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#instant_at_mjd_1">instant<span class="dash">-</span>at<span class="dash">-</span>mjd</a></span>( <span class="tp tpp">mjd</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_fixed.html#type_space_fixed"><span class="tp">fixed</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>fixed<span class="fslash last">/</span></span>fixed: <span class="tp">V</span></span></a>, <span class="tp tpp">tscale</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create an instant given a&nbsp;<a href="https://en.wikipedia.org/wiki/Julian_day">modified julian day</a>.
   and time scale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code> (=<code class="koka">ts<span class="dash">-</span>utc</code>).<br>
   <code class="koka">modified<span class="dash">-</span>julian<span class="dash">-</span>day <span class="kw">=</span> julian<span class="dash">-</span>day <span class="op"><span class="minus">-</span></span> <span class="number">2400000.5</span></code>.
</p></div></div><div class="decl" id="instant_since_epoch"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#instant_since_epoch">instant<span class="dash">-</span>since<span class="dash">-</span>epoch</a></span>( <span class="tp tpp">d</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the instant at (TAI) SI seconds duration since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code>.
</p></div></div><div class="decl" id="jd"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#jd">jd</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_fixed.html#type_space_fixed"><span class="tp">fixed</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>fixed<span class="fslash last">/</span></span>fixed: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the julian day in a given time scale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code> (=<code class="koka">ts<span class="dash">-</span>utc</code>) for an instant <code class="koka">i</code>.
Properly takes leap seconds into account when calculating the fraction of the day 
in a UTC calendar. For example:
</p>
<pre class="para-block pre-fenced pre-fenced4" style="display:block"><code>&gt; time(2014,12,31,23,59,59).jd
2457023.499988425925926

&gt; time(2015,12,31,23,59,59).jd
2457388.499988425925926

&gt; time(2016,12,31,23,59,59).jd
2457754.499976852119767

&gt; time(2016,12,31,23,59,60).jd
2457754.499988426059884</code></pre>
<p class="p noindent para-continued">.
</p></div></div><div class="decl" id="max"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#max">max</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   The maximum of two instants.
</p></div></div><div class="decl" id="min"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#min">min</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">j</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   The minimum of two instants.
</p></div></div><div class="decl" id="mjd"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#mjd">mjd</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">tscale</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a>, <span class="tp tpp">delta</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_num_fixed.html#type_space_fixed"><span class="tp">fixed</span><span class="pc"><span class="mo">std<span class="fslash">/</span>num<span class="fslash">/</span>fixed<span class="fslash last">/</span></span>fixed: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the modified julian day in a given time scale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code> (=<code class="koka">ts<span class="dash">-</span>utc</code>) for an instant <code class="koka">i</code>.
   Can also pass an optional <code class="koka">delta</code> (=<code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#timespan0">timespan0<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan0: <span class="tp">timespan</span></span></a></code>) that is added to the raw timestamp of <code class="koka">i</code>
   before conversion (used in <code class="koka">time</code> to take timezones into account).
</p></div></div><div class="decl" id="round_to_prec"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#round_to_prec">round<span class="dash">-</span>to<span class="dash">-</span>prec</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">prec</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Round an instant to a certain precision (<code class="koka">prec</code> is number of digits of the fraction of the second).<br>
   Takes special care for instants that use a UTC timescale to round into leap seconds if appropriate.
</p></div></div><div class="decl" id="show"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#show">show</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">max<span class="dash">-</span>prec</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">secs<span class="dash">-</span>width</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Show an instant as a number of (TAI) SI seconds since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code> in a given precision.
   This can be used as an unambigious time stamp.
</p></div></div><div class="decl" id="show_raw"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#show_raw">show<span class="dash">-</span>raw</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">max<span class="dash">-</span>prec</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">secs<span class="dash">-</span>width</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Internal: show an instant as a raw timestamp in a given precision, postfixed with the time scale name. 
</p></div></div><div class="decl" id="since_epoch"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#since_epoch">since<span class="dash">-</span>epoch</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the (TAI) SI second duration since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code> at this instant.
</p></div></div><div class="decl" id="timespan"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timespan">timespan</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">tscale</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return a <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="tp">V</span></span></a></code> for instant <code class="koka">i</code> in a certain time scale <code class="koka">tscale</code> (= <code class="koka"><a class="pp" href="#ts_tai">ts<span class="dash">-</span>tai<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts<span class="dash">-</span>tai: <span class="tp">timescale</span></span></a></code>) (since the <code class="koka">tscale</code> epoch).
</p></div></div><div class="decl" id="timestamp"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timestamp">timestamp</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">tscale</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return a <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a></code> for instant <code class="koka">i</code> in a certain time scale <code class="koka">tscale</code> (= <code class="koka"><a class="pp" href="#ts_tai">ts<span class="dash">-</span>tai<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts<span class="dash">-</span>tai: <span class="tp">timescale</span></span></a></code>).
</p></div></div><div class="decl" id="unsafe_instant"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#unsafe_instant">unsafe<span class="dash">-</span>instant</a></span>( <span class="tp tpp">t</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a>, <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create an instant from a time stamp <code class="koka">t</code> interpreted in time scale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code>.<br>
   Be careful to ensure that <code class="koka">t</code> should indeed be interepreted in the given time scale.
</p></div></div><div class="decl" id="use"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#use">use</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a>, <span class="tp tpp">tscale</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Change the internal representation of an instant to use another timescale.
   Only used in special cases for efficiency. For example, when comparing an 
   instant in TAI time to thousands of UTC times, it is more efficient to convert
   the TAI time to UTC first to avoid converting at each comparision.
</p></div></div></div></div>
<div class="decl" id="type_space_timescale"><div class="header code"><span class="def"><span class="kw">type</span>&nbsp;<span class="tp"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_instant-source.html#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a></span></span><span class="tp"></span></div><div class="doc koka comment">

<p class="p noindent">   A time scale defines how time is measured, defines the unit of time, the epoch,
   and how it can be converted to- and from TAI.<br>
   For time calculations, usually the&nbsp;<a href="https://en.wikipedia.org/wiki/International_Atomic_Time">TAI</a>
   (international atomic time) time scale (<code class="koka"><a class="pp" href="#ts_tai">ts<span class="dash">-</span>tai<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts<span class="dash">-</span>tai: <span class="tp">timescale</span></span></a></code>) is used which is time measured as SI seconds on the Earths geoid.
   Another common time scale is UTC (<code class="koka">ts<span class="dash">-</span>utc</code>) which also uses SI second time units but can contain leap seconds.
</p></div><div class="nested"><div class="decl" id="from_tai_1"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#from_tai_1">from<span class="dash">-</span>tai</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a>, <span class="tp tpp">d</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Given a <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a></code> since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code>, return a <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a></code> for that instant in time scale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code>.
</p></div></div><div class="decl" id="has_leap_seconds"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#has_leap_seconds">has<span class="dash">-</span>leap<span class="dash">-</span>seconds</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_bool"><span class="tp">bool</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>bool: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Does this time scale have leap seconds? (only for UTC time (<code class="koka">ts<span class="dash">-</span>utc</code>, <code class="koka">ts<span class="dash">-</span>unix</code>, and <code class="koka">ts<span class="dash">-</span>ntp</code>)).
</p></div></div><div class="decl" id="name"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#name">name</a></span>( <span class="tp tpp">timescale</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Automatically generated. Retrieves the <code class="koka"><a class="pp" href="#name">name<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>name: <span class="tp sp">(</span><span class="tp tpp">timescale</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code> constructor field of the <code class="koka"><a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a></code> type.
</p></div></div><div class="decl" id="tai_timescale"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#tai_timescale">tai<span class="dash">-</span>timescale</a></span>( <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">offset</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a>, <span class="tp tpp">y2k<span class="dash">-</span>epoch</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create a new time scale based on SI seconds (as measured on the Earth&#39;s geoid) with a given
    <code class="koka"><a class="pp" href="#name">name<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>name: <span class="tp sp">(</span><span class="tp tpp">timescale</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code>, a fixed <code class="koka">offset</code> (=<code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#duration0">duration0<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration0: <span class="tp">duration</span></span></a></code>) from TAI (e.g. GPS = TAI - 19), and 
   a <code class="koka"><a class="pp" href="#y2k_epoch">y2k<span class="dash">-</span>epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>y2k<span class="dash">-</span>epoch: <span class="tp sp">(</span><span class="tp tpp">timescale</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timestamp</span></span></a></code> (= <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#timestamp0">timestamp0<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp0: <span class="tp">timestamp</span></span></a></code>) which is the timestamp of the 2000-01-01 date in that timescale
   e.g. for a timescale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code>:<br>
   <code class="koka">y2k<span class="dash">-</span>epoch <span class="kw">=</span> instant(<span class="number">2000</span>,<span class="number">1</span>,<span class="number">1</span>,cal<span class="kw">=</span>iso<span class="dash">-</span>calendar(ts))<span class="kw op">.</span>timestamp(ts)</code>.
</p></div></div><div class="decl" id="timescale"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timescale">timescale</a></span>( <span class="tp tpp">i</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the time scale that instant <code class="koka">i</code> uses.
</p></div></div><div class="decl" id="timescale_epoch"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timescale_epoch">timescale<span class="dash">-</span>epoch</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the epoch of a certain time scale.
</p></div></div><div class="decl" id="timescale_y2k"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timescale_y2k">timescale<span class="dash">-</span>y2k</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_instant"><span class="tp">instant</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>instant: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the instant of the date 2000-01-01 of a particular time scale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code> (when imposed on a proleptic Gregorian calendar).<br>
   <code class="koka">timescale<span class="dash">-</span>y2k(ts) <span class="op">==</span> instant(<span class="number">2000</span>,<span class="number">1</span>,<span class="number">1</span>,cal<span class="kw">=</span>iso<span class="dash">-</span>calendar(ts))</code>.
</p></div></div><div class="decl" id="timescale_1"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#timescale_1">timescale</a></span>( <span class="tp tpp">name</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">from<span class="dash">-</span>tai</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a>, <span class="tp tpp">to<span class="dash">-</span>tai</span> <span class="tp sp">:</span>&nbsp;<span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a>, <span class="tp tpp">y2k<span class="dash">-</span>epoch</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a>, <span class="tp tpp">unit</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a>, <span class="tp tpp">secs<span class="dash">-</span>in<span class="dash">-</span>day</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_maybe"><span class="tp">maybe</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>maybe: <span class="tp">V</span> <span class="tp kw op">-></span> <span class="tp">V</span></span></a><span class="tp sp">&lt;</span><span class="tp sp">(</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a><span class="tp sp">)</span> <span class="tp kw op">-></span> <a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timespan"><span class="tp">timespan</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timespan: <span class="tp">V</span></span></a><span class="tp sp">&gt;</span> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Create a new time scale given <code class="koka"><a class="pp" href="#name">name<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>name: <span class="tp sp">(</span><span class="tp tpp">timescale</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code>, two inverse function <code class="koka">from<span class="dash">-</span>tai</code> and <code class="koka">to<span class="dash">-</span>tai</code>,
   and a <code class="koka"><a class="pp" href="#y2k_epoch">y2k<span class="dash">-</span>epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>y2k<span class="dash">-</span>epoch: <span class="tp sp">(</span><span class="tp tpp">timescale</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timestamp</span></span></a></code> (=<code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#timestamp0">timestamp0<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp0: <span class="tp">timestamp</span></span></a></code>). The time unit defaults to <code class="koka"><a class="pp" href="#name">name<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>name: <span class="tp sp">(</span><span class="tp tpp">timescale</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">string</span></span></a></code>. 
   The <code class="koka"><a class="pp" href="#y2k_epoch">y2k<span class="dash">-</span>epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>y2k<span class="dash">-</span>epoch: <span class="tp sp">(</span><span class="tp tpp">timescale</span> <span class="tp kw op">:</span> <span class="tp">timescale</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timestamp</span></span></a></code> is the timestamp of the 2000-01-01 date in the new timescale
   e.g. for a timescale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code>:<br>
   <code class="koka">y2k<span class="dash">-</span>epoch <span class="kw">=</span> instant(<span class="number">2000</span>,<span class="number">1</span>,<span class="number">1</span>,cal<span class="kw">=</span>iso<span class="dash">-</span>calendar(ts))<span class="kw op">.</span>timestamp(ts)</code>.
</p></div></div><div class="decl" id="to_tai_1"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#to_tai_1">to<span class="dash">-</span>tai</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a>, <span class="tp tpp">t</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Return the <code class="koka"><a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_duration.html#type_space_duration"><span class="tp">duration</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>duration<span class="fslash last">/</span></span>duration: <span class="tp">V</span></span></a></code> since the <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code> for a timestamp <code class="koka">t</code> interpreted in time scale <code class="koka"><a class="pp" href="#ts">ts<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>ts: <span class="tp sp">(</span><span class="tp tpp">instant</span> <span class="tp kw op">:</span> <span class="tp">instant</span><span class="tp sp">)</span> <span class="tp kw op">-&gt;</span> <span class="tp">timescale</span></span></a></code>.
</p></div></div><div class="decl" id="ts_gps"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_instant-source.html#ts_gps">ts<span class="dash">-</span>gps</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   The&nbsp;<a href="https://en.wikipedia.org/wiki/Global_Positioning_System#Timekeeping">GPS</a> time scale based 
   on SI seconds with a 1980-01-06 GPS epoch.<br>
   GPS = TAI - 19s.
</p></div></div><div class="decl" id="ts_tai"><div class="header code"><span class="def"><span class="kw">val</span>&nbsp;<a class="link" href="std_time_instant-source.html#ts_tai">ts<span class="dash">-</span>tai</a></span><span class="tp sp">:</span>&nbsp;<a class="pp" href="#type_space_timescale"><span class="tp">timescale</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>timescale: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   The&nbsp;<a href="https://en.wikipedia.org/wiki/International_Atomic_Time">TAI</a> (International atomic time) 
   time scale is based on SI seconds measured on the Earth&#39;s geoid, with a 2000-01-01 TAI <code class="koka"><a class="pp" href="#epoch">epoch<span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>instant<span class="fslash last">/</span></span>epoch: <span class="tp">instant</span></span></a></code>.
</p></div></div></div></div>
<div class="decl" id="show_1"><div class="header code"><span class="def"><span class="kw">fun</span>&nbsp;<a class="link" href="std_time_instant-source.html#show_1">show</a></span>( <span class="tp tpp">ts</span> <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_time_timestamp.html#type_space_timestamp"><span class="tp">timestamp</span><span class="pc"><span class="mo">std<span class="fslash">/</span>time<span class="fslash">/</span>timestamp<span class="fslash last">/</span></span>timestamp: <span class="tp">V</span></span></a>, <span class="tp tpp">max<span class="dash">-</span>prec</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a>, <span class="tp tpp">secs<span class="dash">-</span>width</span> <span class="tp sp">:</span>&nbsp;<span class="tp op">?</span><a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_int"><span class="tp">int</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>int: <span class="tp">V</span></span></a> ) <span class="tp sp">:</span>&nbsp;<a class="pp" href="https://koka-lang.github.io/koka/doc/std_core.html#type_space_string"><span class="tp">string</span><span class="pc"><span class="mo">std<span class="fslash">/</span>core<span class="fslash last">/</span></span>string: <span class="tp">V</span></span></a></div><div class="doc koka comment">

<p class="p noindent">   Show a time stamp with an optional maximum precision (<code class="koka">max<span class="dash">-</span>prec</code> (=<code class="koka"><span class="number">9</span></code>)) and 
   minimum width for the seconds (=<code class="koka"><span class="number">1</span></code>).
</p></div></div>
</div></body>
</html>

<span data-line=""></span>