// ----------------------------------------------------------------------------
// Program
// ----------------------------------------------------------------------------
 
function xor() : amb bool {
  val p = flip() 
  val q = flip()
  p||q && not(p&&q)
}

             
// ----------------------------------------------------------------------------
// Ambiguity primitives
// ----------------------------------------------------------------------------

/*
type amb :: HX
extend type operation<a> {
  Amb( : ambop<a> )
}

type ambop<a> {
  Flip  
}
*/

effect amb {
  flip() : bool
}
 
